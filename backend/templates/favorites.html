{% extends 'base.html' %} {% block title %}–£–ª—é–±–ª–µ–Ω—Ü—ñ{% endblock %} {% block
content %}
<section class="search-section">
  <h2 class="filter-title">–£–ª—é–±–ª–µ–Ω—Ü—ñ</h2>

  <form class="filter-form" method="get">
    <div class="filter-group">
      <label>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</label>
      <select name="species">
        <option value="any">–ù–µ –≤–∞–∂–ª–∏–≤–æ</option>
        <option value="–∫—ñ—Ç">–ö—ñ—à–∫–∞</option>
        <option value="—Å–æ–±–∞–∫–∞">–°–æ–±–∞–∫–∞</option>
      </select>
    </div>

    <div class="filter-group">
      <label>–°—Ç–∞—Ç—å:</label>
      <select name="gender">
        <option value="any">–ù–µ –≤–∞–∂–ª–∏–≤–æ</option>
        <option value="female">–ñ</option>
        <option value="male">–ú</option>
      </select>
    </div>

    <div class="filter-group">
      <label>–í—ñ–∫:</label><br />
      –≤—ñ–¥
      <input
        type="number"
        name="min_age"
        value="0"
        min="0"
        class="input-small"
      />
      –¥–æ
      <input
        type="number"
        name="max_age"
        value="25"
        max="25"
        class="input-small"
      />
    </div>

    <div class="filter-group">
      <label>–†–æ–∑–º—ñ—Ä:</label>
      <select name="size">
        <option value="any">–ù–µ –≤–∞–∂–ª–∏–≤–æ</option>
        <option value="small">–ú–∞–ª–µ–Ω—å–∫–∏–π</option>
        <option value="medium">–°–µ—Ä–µ–¥–Ω—ñ–π</option>
        <option value="large">–í–µ–ª–∏–∫–∏–π</option>
      </select>
    </div>

    <div class="filter-group">
      <label>–°—Ç–∞—Ç—É—Å:</label>
      <select name="status">
        <option value="any">–£—Å—ñ</option>
        <option value="–≤ –ø—Ä–∏—Ç—É–ª–∫—É">–≤ –ø—Ä–∏—Ç—É–ª–∫—É</option>
        <option value="—É—Å–∏–Ω–æ–≤–ª–µ–Ω–æ">—É—Å–∏–Ω–æ–≤–ª–µ–Ω–æ</option>
      </select>
    </div>

    <div class="filter-buttons">
      <a href="{{ url_for('animals.favorites') }}" class="button"
        >–û—á–∏—Å—Ç–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏</a
      >
      <button class="button" type="submit">–ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏</button>
    </div>
  </form>

  <section class="results-list">
    {% for animal in animals %}
    <article
      class="result-item {% if animal.status == '—É—Å–∏–Ω–æ–≤–ª–µ–Ω–æ' %}adopted{% endif %}"
    >
      {% if animal.status == '—É—Å–∏–Ω–æ–≤–ª–µ–Ω–æ' %}
      <span class="badge">–£—Å–∏–Ω–æ–≤–ª–µ–Ω–æ</span>
      {% endif %}

      <form
        method="post"
        action="{{ url_for('animals.toggle_favorite', animal_id=animal.id) }}"
      >
        {{ form.hidden_tag() }}
        <button type="submit" class="fav-button">
          {% if animal.id in user_fav_ids %} ‚ù§Ô∏è {% else %} ü§ç {% endif %}
        </button>
      </form>

      <a
        href="{{ url_for('animals.animal_detail', animal_id=animal.id) }}"
        class="result-link"
      >
        <img
          class="result-image"
          src="{{ animal.photo_url }}"
          alt="{{ animal.name }}"
        />
        <h3 class="result-name">{{ animal.name }}</h3>
      </a>

      {% if current_user.is_authenticated and current_user.role == 'admin' %}
      <div class="admin-actions">
        <a href="{{ url_for('animals.edit_animal', animal_id=animal.id) }}"
          >‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a
        >
        |
        <form
          method="post"
          action="{{ url_for('animals.delete_animal', animal_id=animal.id) }}"
          style="display: inline"
        >
          {{ form.hidden_tag() }}
          <button type="submit" onclick="return confirm('–¢–æ—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏?')">
            üóëÔ∏è
          </button>
        </form>
        {% if animal.status != '—É—Å–∏–Ω–æ–≤–ª–µ–Ω–æ' %}
        <br />
        <a href="{{ url_for('animals.upload_contract', animal_id=animal.id) }}"
          >üìÑ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–æ–≥–æ–≤—ñ—Ä</a
        >
        {% endif %}
      </div>
      {% endif %}
    </article>
    {% endfor %}
  </section>
</section>
{% endblock %}
